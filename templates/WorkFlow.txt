# MULTI-AGENT DEVELOPMENT WORKFLOW

---

## **⚠️ CRITICAL: STATUS UPDATE PROTOCOL**

### **MANDATORY ACTION: Update `docs/project-status/status.md` at START and END of EVERY Phase**

The Orchestrator **MUST** perform the following status updates. **FAILURE TO UPDATE IS A WORKFLOW VIOLATION.**

```
┌─────────────────────────────────────────────────────────────────────────┐
│  BEFORE STARTING ANY PHASE:                                             │
│  ──────────────────────────────────────────────────────────────────────│
│  1. Read current status.md                                              │
│  2. Update "Current State" table:                                       │
│     - Current Phase: Phase X - {Name}                                   │
│     - Status: STARTING                                                  │
│     - Last Updated: {YYYY-MM-DD HH:MM}                                  │
│  3. Add entry to "Workflow Progress" section                            │
│  4. Record assigned agents in "Active Agents" table                     │
│  5. SAVE status.md                                                      │
│                                                                         │
│  AFTER COMPLETING ANY PHASE:                                            │
│  ──────────────────────────────────────────────────────────────────────│
│  1. Read current status.md                                              │
│  2. Update "Current State" table:                                       │
│     - Status: ✅ COMPLETE                                               │
│     - Last Updated: {YYYY-MM-DD HH:MM}                                  │
│  3. Update phase row in "Workflow Progress":                            │
│     - Status: ✅ COMPLETE                                               │
│     - Completed: {timestamp}                                            │
│  4. Add to "Phase History" section with deliverables and metrics        │
│  5. Clear completed agents from "Active Agents" table                   │
│  6. SAVE status.md                                                      │
│  7. THEN proceed to next phase                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

### **Quick Reference: Status Update Points**

| Event | Action | Information to Record |
|-------|--------|----------------------|
| **Phase Start** | UPDATE status.md FIRST | Phase name, status=STARTING, timestamp, agents assigned, objectives |
| **Phase End** | UPDATE status.md BEFORE moving on | Status=COMPLETE, timestamp, deliverables, metrics, next phase |
| **Sub-Phase Start** | Update step row | Step number, agent, status=IN PROGRESS, timestamp |
| **Sub-Phase End** | Update step row | Status=COMPLETE, outputs, quality gate result |
| **Wave Start** | Update wave section | Wave number, streams planned, developers assigned |
| **Wave End** | Update wave section | All streams complete, aggregate metrics |
| **Blocker Found** | Add to Blockers table | Issue, impact, owner, status=OPEN |
| **Blocker Resolved** | Update Blockers table | Resolution, status=RESOLVED |

### **Enforcement Rule**

```
⛔ DO NOT proceed to the next phase until status.md is updated for:
   - The COMPLETION of the current phase
   - The START of the next phase

⛔ DO NOT start any agent work until status.md shows:
   - The phase as STARTING or IN PROGRESS
   - The agent as assigned in Active Agents table
```

---

## WORKFLOW OVERVIEW

```
ORCHESTRATION FLOW WITH ITERATIVE LOOPS:
========================================

[STATUS UPDATE: Phase 1 Start] ←── MANDATORY
    ↓
┌─────────────────────────────────────────────────────────────┐
│  PHASE 1 - PLANNING & DESIGN                                │
├─────────────────────────────────────────────────────────────┤
│  [STATUS: Sub-Phase 1.1 Start]                              │
│      PO (Product Owner) → Vision, Epics, Stories            │
│  [STATUS: Sub-Phase 1.1 End]                                │
│      ↓                                                      │
│  [STATUS: Sub-Phase 1.2 Start]                              │
│      RE (Requirements Engineer) → Requirements              │
│  [STATUS: Sub-Phase 1.2 End]                                │
│      ↓                                                      │
│  [STATUS: Sub-Phase 1.3 Start]                              │
│      UI/UX Designer → Wireframes, User Flows                │
│  [STATUS: Sub-Phase 1.3 End]                                │
│      ↓                                                      │
│  [STATUS: Sub-Phase 1.4 Start]                              │
│      ARCHITECTS → System Design, API Contracts              │
│  [STATUS: Sub-Phase 1.4 End]                                │
└─────────────────────────────────────────────────────────────┘
[STATUS UPDATE: Phase 1 Complete] ←── MANDATORY
    ↓
    ↓
╔═══════════════════════════════════════════════════════════════════════════════╗
║                    ITERATIVE DEVELOPMENT LOOP (Per Module)                    ║
║          Phases 2, 3, 4 repeat until ALL Architects approve module           ║
╠═══════════════════════════════════════════════════════════════════════════════╣
║                                                                               ║
║  FOR EACH MODULE:                                                             ║
║  ┌───────────────────────────────────────────────────────────────────────┐   ║
║  │                                                                       │   ║
║  │  [STATUS: Phase 2 Start - Module X]                                   │   ║
║  │  ┌─────────────────────────────────────────────────────────────────┐ │   ║
║  │  │  PHASE 2 - DEVELOPMENT + ALL TESTS                              │ │   ║
║  │  ├─────────────────────────────────────────────────────────────────┤ │   ║
║  │  │  [STATUS: Sub-Phase 2.1 Start]                                  │ │   ║
║  │  │      CODE IMPLEMENTATION → Feature code                         │ │   ║
║  │  │  [STATUS: Sub-Phase 2.1 End]                                    │ │   ║
║  │  │      ↓                                                          │ │   ║
║  │  │  [STATUS: Sub-Phase 2.2 Start]                                  │ │   ║
║  │  │      UNIT TEST (UT) DEVELOPMENT → Unit tests for all code      │ │   ║
║  │  │  [STATUS: Sub-Phase 2.2 End]                                    │ │   ║
║  │  │      ↓                                                          │ │   ║
║  │  │  [STATUS: Sub-Phase 2.3 Start]                                  │ │   ║
║  │  │      INTEGRATION TEST (INT) DEVELOPMENT → Integration tests    │ │   ║
║  │  │  [STATUS: Sub-Phase 2.3 End]                                    │ │   ║
║  │  │      ↓                                                          │ │   ║
║  │  │  [STATUS: Sub-Phase 2.4 Start]                                  │ │   ║
║  │  │      API TEST DEVELOPMENT → API contract tests                 │ │   ║
║  │  │  [STATUS: Sub-Phase 2.4 End]                                    │ │   ║
║  │  │      ↓                                                          │ │   ║
║  │  │  [STATUS: Sub-Phase 2.5 Start]                                  │ │   ║
║  │  │      E2E TEST DEVELOPMENT → End-to-end test scenarios          │ │   ║
║  │  │  [STATUS: Sub-Phase 2.5 End]                                    │ │   ║
║  │  │      ↓                                                          │ │   ║
║  │  │  [STATUS: Sub-Phase 2.6 Start]                                  │ │   ║
║  │  │      RUN ALL TESTS → Execute UT, INT, API tests locally        │ │   ║
║  │  │      ALL TESTS MUST PASS before proceeding                      │ │   ║
║  │  │  [STATUS: Sub-Phase 2.6 End]                                    │ │   ║
║  │  └─────────────────────────────────────────────────────────────────┘ │   ║
║  │  [STATUS: Phase 2 Complete - Module X]                                │   ║
║  │      ↓                                                                │   ║
║  │  [STATUS: Phase 3 Start - Module X]                                   │   ║
║  │  ┌─────────────────────────────────────────────────────────────────┐ │   ║
║  │  │  PHASE 3 - ARCHITECT REVIEW                                     │ │   ║
║  │  ├─────────────────────────────────────────────────────────────────┤ │   ║
║  │  │  [STATUS: Sub-Phase 3.1 Start]                                  │ │   ║
║  │  │      Full-Stack Architect Review                                │ │   ║
║  │  │  [STATUS: Sub-Phase 3.1 End] → APPROVE or REWORK               │ │   ║
║  │  │      ↓                                                          │ │   ║
║  │  │  [STATUS: Sub-Phase 3.2 Start]                                  │ │   ║
║  │  │      Backend Architect Review                                   │ │   ║
║  │  │  [STATUS: Sub-Phase 3.2 End] → APPROVE or REWORK               │ │   ║
║  │  │      ↓                                                          │ │   ║
║  │  │  [STATUS: Sub-Phase 3.3 Start]                                  │ │   ║
║  │  │      AI/ML Architect Review (if applicable)                     │ │   ║
║  │  │  [STATUS: Sub-Phase 3.3 End] → APPROVE or REWORK               │ │   ║
║  │  │      ↓                                                          │ │   ║
║  │  │  [STATUS: Sub-Phase 3.4 Start]                                  │ │   ║
║  │  │      CONSOLIDATED DECISION                                      │ │   ║
║  │  │  [STATUS: Sub-Phase 3.4 End]                                    │ │   ║
║  │  │                                                                 │ │   ║
║  │  │  ┌─────────────┐           ┌─────────────┐                      │ │   ║
║  │  │  │ ALL APPROVE │──YES──→   │ PHASE 5     │                      │ │   ║
║  │  │  └─────────────┘           └─────────────┘                      │ │   ║
║  │  │         │                                                       │ │   ║
║  │  │        NO (ANY architect requests rework)                       │ │   ║
║  │  │         ↓                                                       │ │   ║
║  │  └─────────────────────────────────────────────────────────────────┘ │   ║
║  │  [STATUS: Phase 3 Complete - REWORK REQUIRED]                         │   ║
║  │      ↓                                                                │   ║
║  │  [STATUS: Phase 4 Start - Iteration N]                                │   ║
║  │  ┌─────────────────────────────────────────────────────────────────┐ │   ║
║  │  │  PHASE 4 - REWORK                                               │ │   ║
║  │  ├─────────────────────────────────────────────────────────────────┤ │   ║
║  │  │  [STATUS: Sub-Phase 4.1 Start]                                  │ │   ║
║  │  │      Issue Analysis & Assignment                                │ │   ║
║  │  │  [STATUS: Sub-Phase 4.1 End]                                    │ │   ║
║  │  │      ↓                                                          │ │   ║
║  │  │  [STATUS: Sub-Phase 4.2 Start]                                  │ │   ║
║  │  │      Code Rework + Update ALL affected tests                    │ │   ║
║  │  │  [STATUS: Sub-Phase 4.2 End]                                    │ │   ║
║  │  │      ↓                                                          │ │   ║
║  │  │  [STATUS: Sub-Phase 4.3 Start]                                  │ │   ║
║  │  │      Run ALL Tests (UT, INT, API) - ALL MUST PASS               │ │   ║
║  │  │  [STATUS: Sub-Phase 4.3 End]                                    │ │   ║
║  │  └─────────────────────────────────────────────────────────────────┘ │   ║
║  │  [STATUS: Phase 4 Complete - Iteration N]                             │   ║
║  │      │                                                                │   ║
║  │      └────────────────→ BACK TO PHASE 3 (Re-review) ─────────────────┘   ║
║  │                                                                       │   ║
║  │  ════════════════════════════════════════════════════════════════════    ║
║  │  LOOP CONTINUES UNTIL ALL ARCHITECTS APPROVE MODULE                  │   ║
║  │  ════════════════════════════════════════════════════════════════════    ║
║  │                                                                       │   ║
║  └───────────────────────────────────────────────────────────────────────┘   ║
║                                                                               ║
╚═══════════════════════════════════════════════════════════════════════════════╝
    ↓ (Only when ALL architects approve)
    ↓
[STATUS UPDATE: Phase 3 Complete - ALL APPROVED] ←── MANDATORY
    ↓
    ↓
╔═══════════════════════════════════════════════════════════════════════════════╗
║                    E2E TESTING WITH FAILURE LOOP                              ║
╠═══════════════════════════════════════════════════════════════════════════════╣
║                                                                               ║
║  [STATUS: Phase 5 Start]                                                      ║
║  ┌─────────────────────────────────────────────────────────────────────────┐ ║
║  │  PHASE 5 - COMPREHENSIVE TESTING                                        │ ║
║  ├─────────────────────────────────────────────────────────────────────────┤ ║
║  │  [STATUS: Sub-Phase 5.1 Start]                                          │ ║
║  │      QA AUTOMATION TESTING (INT + API + REGRESSION)                     │ ║
║  │  [STATUS: Sub-Phase 5.1 End]                                            │ ║
║  │      ↓                                                                  │ ║
║  │  [STATUS: Sub-Phase 5.2 Start]                                          │ ║
║  │      E2E TEST EXECUTION (Run all E2E tests)                             │ ║
║  │          - Execute all developed E2E test scenarios                     │ ║
║  │          - Cross-browser testing                                        │ ║
║  │          - Critical user flow validation                                │ ║
║  │  [STATUS: Sub-Phase 5.2 End]                                            │ ║
║  │      ↓                                                                  │ ║
║  │  [STATUS: Sub-Phase 5.3 Start]                                          │ ║
║  │      VISUAL REGRESSION TESTING                                          │ ║
║  │  [STATUS: Sub-Phase 5.3 End]                                            │ ║
║  │      ↓                                                                  │ ║
║  │  [STATUS: Sub-Phase 5.4 Start]                                          │ ║
║  │      TEST RESULTS CONSOLIDATION                                         │ ║
║  │  [STATUS: Sub-Phase 5.4 End]                                            │ ║
║  │                                                                         │ ║
║  │  ┌──────────────────────────────────────────────────────────────────┐  │ ║
║  │  │  E2E/TESTING DECISION GATE                                       │  │ ║
║  │  ├──────────────────────────────────────────────────────────────────┤  │ ║
║  │  │                                                                  │  │ ║
║  │  │  IF ALL TESTS PASS ──→ [STATUS: Phase 5 PASSED] → Phase 6       │  │ ║
║  │  │                                                                  │  │ ║
║  │  │  IF E2E/TESTS FAIL ──→ [STATUS: Phase 5 FAILED - Defects]       │  │ ║
║  │  │         │                                                        │  │ ║
║  │  │         ↓                                                        │  │ ║
║  │  │  ┌────────────────────────────────────────────────────────────┐ │  │ ║
║  │  │  │  DEFECT REPORTING                                          │ │  │ ║
║  │  │  │  - Log all failed tests with details                       │ │  │ ║
║  │  │  │  - Categorize defects by severity                          │ │  │ ║
║  │  │  │  - Assign defects to developers                            │ │  │ ║
║  │  │  │  - Create defect fix tasks                                 │ │  │ ║
║  │  │  └────────────────────────────────────────────────────────────┘ │  │ ║
║  │  │         │                                                        │  │ ║
║  │  │         ↓                                                        │  │ ║
║  │  │  ╔════════════════════════════════════════════════════════════╗ │  │ ║
║  │  │  ║  RETURN TO PHASE 2/3/4 ITERATIVE LOOP                     ║ │  │ ║
║  │  │  ║  Developers fix defects, run tests, architects re-review  ║ │  │ ║
║  │  │  ║  ITERATE UNTIL ALL TESTS PASS                             ║ │  │ ║
║  │  │  ╚════════════════════════════════════════════════════════════╝ │  │ ║
║  │  │                                                                  │  │ ║
║  │  └──────────────────────────────────────────────────────────────────┘  │ ║
║  └─────────────────────────────────────────────────────────────────────────┘ ║
║  [STATUS: Phase 5 Complete - ALL TESTS PASSED]                               ║
║                                                                               ║
╚═══════════════════════════════════════════════════════════════════════════════╝
    ↓ (Only when ALL tests pass)
    ↓
[STATUS UPDATE: Phase 5 Complete - PASSED] ←── MANDATORY
    ↓
[STATUS: Phase 6 Start]
┌─────────────────────────────────────────────────────────────────┐
│  PHASE 6 - FINAL APPROVAL                                       │
├─────────────────────────────────────────────────────────────────┤
│  [STATUS: Sub-Phase 6.1 Start]                                  │
│      Lead Architect Final Review                                │
│  [STATUS: Sub-Phase 6.1 End]                                    │
│      ↓                                                          │
│  [STATUS: Sub-Phase 6.2 Start]                                  │
│      QA Lead Final Review                                       │
│  [STATUS: Sub-Phase 6.2 End]                                    │
│      ↓                                                          │
│  [STATUS: Sub-Phase 6.3 Start]                                  │
│      FINAL SIGN-OFF                                             │
│  [STATUS: Sub-Phase 6.3 End]                                    │
└─────────────────────────────────────────────────────────────────┘
[STATUS UPDATE: Phase 6 Complete - APPROVED] ←── MANDATORY
    ↓
[STATUS: Phase 7 Start]
┌─────────────────────────────────────────────────────────────────┐
│  PHASE 7 - NEXT WAVE/PHASE                                      │
├─────────────────────────────────────────────────────────────────┤
│  [STATUS: Sub-Phase 7.1] Completion Summary                     │
│  [STATUS: Sub-Phase 7.2] Next Wave/Phase Planning               │
│  [STATUS: Sub-Phase 7.3] Kickoff                                │
└─────────────────────────────────────────────────────────────────┘
[STATUS UPDATE: Phase 7 Complete / Next Wave Start] ←── MANDATORY
```

---

## **MANDATORY: PROJECT STATUS UPDATES**

### Status File Location
```
docs/project-status/status.md
```

### **CRITICAL RULE: Status updates are MANDATORY at START and END of EVERY level**

The Orchestrator MUST update `docs/project-status/status.md` at ALL granularity levels:

```
HIERARCHY OF STATUS UPDATES:
============================

PHASE (e.g., Phase 1 - Planning)
├── [STATUS: Phase Start]
├── SUB-PHASE (e.g., Step 1.1 - Product Owner)
│   ├── [STATUS: Sub-Phase Start]
│   └── [STATUS: Sub-Phase End]
├── SUB-PHASE (e.g., Step 1.2 - Requirements Engineer)
│   ├── [STATUS: Sub-Phase Start]
│   └── [STATUS: Sub-Phase End]
├── SUB-PHASE (e.g., Step 1.3 - UX Designer)
│   ├── [STATUS: Sub-Phase Start]
│   └── [STATUS: Sub-Phase End]
├── SUB-PHASE (e.g., Step 1.4 - Architects)
│   ├── [STATUS: Sub-Phase Start]
│   └── [STATUS: Sub-Phase End]
└── [STATUS: Phase End]

WAVE (e.g., Wave 1 - Parallel Development)
├── [STATUS: Wave Start]
├── SUB-WAVE / STREAM (e.g., Stream 1 - Module A)
│   ├── [STATUS: Sub-Wave Start]
│   └── [STATUS: Sub-Wave End]
├── SUB-WAVE / STREAM (e.g., Stream 2 - Module B)
│   ├── [STATUS: Sub-Wave Start]
│   └── [STATUS: Sub-Wave End]
├── SUB-WAVE / STREAM (e.g., Stream 3 - Module C)
│   ├── [STATUS: Sub-Wave Start]
│   └── [STATUS: Sub-Wave End]
└── [STATUS: Wave End]
```

### Status Update Triggers - ALL LEVELS

| Level | Trigger | When to Update | What to Record |
|-------|---------|----------------|----------------|
| **PHASE** | Phase Start | Before first sub-phase begins | Phase name, objectives, sub-phases planned |
| **PHASE** | Phase End | After all sub-phases complete | Duration, deliverables, metrics summary |
| **SUB-PHASE** | Sub-Phase Start | Before agent begins work | Step number, agent assigned, inputs received |
| **SUB-PHASE** | Sub-Phase End | After agent completes work | Outputs produced, quality gate result |
| **WAVE** | Wave Start | Before parallel streams begin | Wave number, streams planned, agent assignments |
| **WAVE** | Wave End | After all streams complete | Streams completed, aggregate results |
| **SUB-WAVE** | Sub-Wave/Stream Start | Before stream work begins | Stream ID, module, developer assigned |
| **SUB-WAVE** | Sub-Wave/Stream End | After stream work completes | Module complete, tests, coverage, files |
| **REWORK** | Rework Start | When architect requests changes | Issues list, assigned developers |
| **REWORK** | Rework End | When fixes submitted | Fixes applied, tests updated |
| **BLOCKER** | Blocker Found | When blocker identified | Blocker details, impact, owner |
| **BLOCKER** | Blocker Resolved | When blocker cleared | Resolution, duration blocked |

### Status File Template

```markdown
# Project Status: {PROJECT_NAME}

## Current State

| Field | Value |
|-------|-------|
| **Current Phase** | Phase X - {Phase Name} |
| **Current Sub-Phase** | Step X.Y - {Sub-Phase Name} |
| **Current Wave** | Wave Y (if applicable) |
| **Current Stream** | Stream Z (if applicable) |
| **Status** | {STARTING | IN PROGRESS | BLOCKED | COMPLETE} |
| **Last Updated** | {YYYY-MM-DD HH:MM} |

## Active Agents

| Agent | Module | Sub-Phase/Stream | Status | Started |
|-------|--------|------------------|--------|---------|
| {agent-name} | {module} | {sub-phase/stream} | {Active/Waiting/Complete} | {timestamp} |

## Workflow Progress - Detailed

### Phase 1 - Planning & Design

| Step | Sub-Phase | Agent | Status | Started | Completed |
|------|-----------|-------|--------|---------|-----------|
| 1.1 | Product Owner | {project}-product-owner | {status} | {time} | {time} |
| 1.2 | Requirements Engineer | requirements-engineer | {status} | {time} | {time} |
| 1.3 | UX/UI Designer | ux-ui-designer | {status} | {time} | {time} |
| 1.4 | Architecture Design | fullstack/backend/ai-ml-architect | {status} | {time} | {time} |

### Phase 2 - Development (Parallel Waves)

| Wave | Stream | Module | Developer | Status | Tests | Coverage |
|------|--------|--------|-----------|--------|-------|----------|
| Wave 1 | Stream 1 | {module} | fullstack-developer-1 | {status} | {count} | {%} |
| Wave 1 | Stream 2 | {module} | fullstack-developer-2 | {status} | {count} | {%} |
| Wave 1 | Stream 3 | {module} | fullstack-developer-3 | {status} | {count} | {%} |
| Wave 1 | Stream 4 | {module} | fullstack-developer-4 | {status} | {count} | {%} |

### Phase 3 - Architect Review

| Step | Sub-Phase | Reviewer | Status | Result | Issues |
|------|-----------|----------|--------|--------|--------|
| 3.1 | Full-Stack Review | fullstack-architect | {status} | {Y/N} | {count} |
| 3.2 | Backend Review | backend-architect | {status} | {Y/N} | {count} |
| 3.3 | AI/ML Review | ai-ml-architect | {status} | {Y/N} | {count} |
| 3.4 | Consolidated Decision | All Architects | {status} | {APPROVED/REWORK} | {total} |

### Phase 4 - Rework (if needed)

| Iteration | Step | Sub-Phase | Status | Issues Fixed |
|-----------|------|-----------|--------|--------------|
| Iter 1 | 4.1 | Issue Analysis | {status} | - |
| Iter 1 | 4.2 | Parallel Rework | {status} | {count} |
| Iter 1 | 4.3 | Verification | {status} | - |

### Phase 5 - Testing (Parallel)

| Step | Sub-Phase | Streams | Status | Passed | Failed | Defects |
|------|-----------|---------|--------|--------|--------|---------|
| 5.1 | QA Automation | QA-1, QA-2 | {status} | {count} | {count} | {count} |
| 5.2 | E2E Testing | E2E-1, E2E-2 | {status} | {count} | {count} | {count} |
| 5.3 | Visual Testing | Visual-1, Visual-2 | {status} | {count} | {count} | {count} |
| 5.4 | Consolidation | - | {status} | - | - | - |

### Phase 6 - Final Approval

| Step | Sub-Phase | Approver | Status | Decision |
|------|-----------|----------|--------|----------|
| 6.1 | Lead Architect Review | fullstack-architect | {status} | {Y/N} |
| 6.2 | QA Lead Review | qa-automation-engineer | {status} | {Y/N} |
| 6.3 | Final Sign-Off | All | {status} | {APPROVED/RETURN} |

### Phase 7 - Wave/Phase Transition

| Step | Sub-Phase | Status | Details |
|------|-----------|--------|---------|
| 7.1 | Completion Summary | {status} | {summary} |
| 7.2 | Next Planning | {status} | {next wave/phase} |
| 7.3 | Kickoff | {status} | {streams count} |

## Parallel Development Streams (Current Wave)

| Stream | Module | Agent | Status | Progress | Tests | Coverage |
|--------|--------|-------|--------|----------|-------|----------|
| Stream 1 | {module} | {developer} | {status} | {details} | {count} | {%} |
| Stream 2 | {module} | {developer} | {status} | {details} | {count} | {%} |
| Stream 3 | {module} | {developer} | {status} | {details} | {count} | {%} |
| Stream 4 | {module} | {developer} | {status} | {details} | {count} | {%} |

## Blockers

| ID | Issue | Phase | Sub-Phase | Impact | Resolution | Owner | Status |
|----|-------|-------|-----------|--------|------------|-------|--------|
| B1 | {description} | {phase} | {sub-phase} | {impact} | {plan} | {agent} | {Open/Resolved} |

## Phase History (Completed)

### Phase 1 - Planning & Design
- **Started**: {timestamp}
- **Completed**: {timestamp}
- **Sub-Phases**: 1.1 ✅, 1.2 ✅, 1.3 ✅, 1.4 ✅
- **Deliverables**: Vision doc, {X} user stories, {Y} requirements, {Z} wireframes, Architecture docs

### Phase 2 - Development
- **Started**: {timestamp}
- **Completed**: {timestamp}
- **Waves Completed**: {count}
- **Modules Completed**: {count}
- **Total Unit Tests**: {count} tests
- **Average Coverage**: {%}

### Phase 3 - Architect Review
- **Started**: {timestamp}
- **Completed**: {timestamp}
- **Sub-Phases**: 3.1 ✅, 3.2 ✅, 3.3 ✅, 3.4 ✅
- **Final Result**: {APPROVED | REWORK REQUIRED}
- **Total Issues**: {count}

### Phase 4 - Rework (if applicable)
- **Iterations**: {count}
- **Total Issues Fixed**: {count}
- **Tests Updated**: {count}

### Phase 5 - Testing
- **Started**: {timestamp}
- **Completed**: {timestamp}
- **Sub-Phases**: 5.1 ✅, 5.2 ✅, 5.3 ✅, 5.4 ✅
- **Total Tests**: {count}
- **Pass Rate**: {%}
- **Defects Found**: {count}

### Phase 6 - Final Approval
- **Started**: {timestamp}
- **Completed**: {timestamp}
- **Sub-Phases**: 6.1 ✅, 6.2 ✅, 6.3 ✅
- **Lead Architect**: ✅ Approved
- **QA Lead**: ✅ Approved

(Continue for all completed phases/waves...)
```

---

## AGENT ROSTER & RESPONSIBILITIES

### ORCHESTRATION AGENTS

| Agent | Model | Responsibility |
|-------|-------|----------------|
| `{project}-orchestrator` | opus | Master coordinator - manages workflow phases, assigns work, tracks progress, enforces quality gates, **UPDATES STATUS FILE** |
| `{project}-orchestrator-assistant` | sonnet | Workflow discipline enforcement, status tracking, blocker identification |

### PLANNING & DESIGN AGENTS (Phase 1)

| Agent | Model | Responsibility |
|-------|-------|----------------|
| `{project}-product-owner` | opus | Vision, scope, epics, user stories, acceptance criteria, stakeholder alignment |
| `requirements-engineer` | sonnet | Functional/non-functional requirements, testable specifications, data requirements |
| `ux-ui-designer` | sonnet | User flows, wireframes, interaction patterns, design system, accessibility |

### ARCHITECTURE AGENTS (Phase 1)

| Agent | Model | Responsibility |
|-------|-------|----------------|
| `fullstack-architect` | opus | System architecture, cross-platform design, component structure, tech stack decisions |
| `backend-architect` | opus | API design, data models, service architecture, database schema, security patterns |
| `ai-ml-architect` | opus | AI/ML architecture, RAG pipelines, LLM integration, embedding strategies, model selection |

### DEVELOPMENT AGENTS (Phase 2) - PARALLEL EXECUTION

| Agent | Model | Responsibility |
|-------|-------|----------------|
| `fullstack-developer` | opus | Lead full-stack implementation, cross-platform development |
| `fullstack-developer-1` | sonnet | Parallel module development (Module A) |
| `fullstack-developer-2` | sonnet | Parallel module development (Module B) |
| `fullstack-developer-3` | sonnet | Parallel module development (Module C) |
| `fullstack-developer-4` | sonnet | Parallel module development (Module D) |
| `ml-ai-developer` | opus | Lead AI/ML implementation |
| `ml-ai-developer-1` | sonnet | Parallel AI component development |
| `ml-ai-developer-2` | sonnet | Parallel AI component development |
| `ml-ai-developer-3` | sonnet | Parallel AI component development |
| `ml-ai-developer-4` | sonnet | Parallel AI component development |

### TESTING AGENTS (Phase 5) - PARALLEL EXECUTION

| Agent | Model | Responsibility |
|-------|-------|----------------|
| `qa-automation-engineer` | sonnet | Lead QA, integration testing, API testing |
| `qa-automation-engineer-1` | sonnet | Parallel integration testing |
| `qa-automation-engineer-2` | sonnet | Parallel integration testing |
| `playwright-e2e-tester` | sonnet | Lead E2E web testing |
| `playwright-e2e-tester-1` | sonnet | Parallel E2E testing |
| `playwright-e2e-tester-2` | sonnet | Parallel E2E testing |
| `visual-automation-tester` | sonnet | Lead visual regression testing |
| `visual-automation-tester-1` | sonnet | Parallel visual testing |
| `visual-automation-tester-2` | sonnet | Parallel visual testing |

### DEVOPS AGENTS

| Agent | Model | Responsibility |
|-------|-------|----------------|
| `devops-mlops-engineer` | sonnet | CI/CD pipelines, infrastructure, deployment, MLOps |

### DOMAIN EXPERT AGENTS (Conditional - Finance Domain)

| Agent | Model | Responsibility |
|-------|-------|----------------|
| `finance-meta-controller` | opus | Orchestrates financial agents, routes queries to specialists |
| `financial-planner-advisor` | sonnet | Comprehensive financial planning, retirement, wealth building |
| `budgeting-analyzer` | sonnet | Budget analysis, cash flow optimization, spending patterns |
| `investment-strategy-advisor` | sonnet | Investment strategy, portfolio allocation, risk management |
| `risk-insurance-advisor` | sonnet | Risk assessment, insurance needs, protection planning |
| `forecasting-simulation-agent` | sonnet | Financial forecasting, scenario modeling, Monte Carlo simulations |
| `debt-optimization-advisor` | sonnet | Debt management, repayment strategies, interest optimization |

---

## DETAILED WORKFLOW PHASES

### PHASE 1 - PLANNING & DESIGN

#### **STATUS UPDATE: Phase 1 Start**
```
Orchestrator MUST update status.md:
- Current Phase: Phase 1 - Planning & Design
- Status: STARTING
- Timestamp: {now}
- Assigned Agents: PO, RE, UX, Architects
```

#### Step 1.1: Product Owner (PO)

##### **STATUS UPDATE: Sub-Phase 1.1 Start**
```
- Sub-Phase: 1.1 - Product Owner
- Status: STARTING
- Agent: {project}-product-owner
- Input: Project overview, stakeholder requirements
- Timestamp: {now}
```

**Input**: Project overview, stakeholder requirements
**Output**: Vision document, epics, user stories, acceptance criteria

**Responsibilities**:
- Define project vision and scope
- Create epics with clear objectives
- Write user stories (INVEST format)
- Define acceptance criteria (Given/When/Then)
- Prioritize backlog (P1/P2/P3)

**Quality Gate**: All epics have user stories with acceptance criteria

##### **STATUS UPDATE: Sub-Phase 1.1 End**
```
- Sub-Phase: 1.1 - Product Owner
- Status: ✅ COMPLETE
- Output: Vision doc, {X} epics, {Y} user stories
- Quality Gate: PASSED
- Timestamp: {now}
```

---

#### Step 1.2: Requirements Engineer (RE)

##### **STATUS UPDATE: Sub-Phase 1.2 Start**
```
- Sub-Phase: 1.2 - Requirements Engineer
- Status: STARTING
- Agent: requirements-engineer
- Input: PO output (epics, user stories)
- Timestamp: {now}
```

**Input**: PO output (epics, user stories)
**Output**: Functional requirements, non-functional requirements, data requirements

**Responsibilities**:
- Convert user stories to testable requirements
- Define functional requirements (WHAT the system does)
- Define non-functional requirements (HOW the system performs)
- Specify data requirements and validation rules
- Identify integration requirements

**Quality Gate**: All requirements are testable and traceable to user stories

##### **STATUS UPDATE: Sub-Phase 1.2 End**
```
- Sub-Phase: 1.2 - Requirements Engineer
- Status: ✅ COMPLETE
- Output: {X} functional reqs, {Y} non-functional reqs
- Quality Gate: PASSED
- Timestamp: {now}
```

---

#### Step 1.3: UX/UI Designer

##### **STATUS UPDATE: Sub-Phase 1.3 Start**
```
- Sub-Phase: 1.3 - UX/UI Designer
- Status: STARTING
- Agent: ux-ui-designer
- Input: PO + RE outputs
- Timestamp: {now}
```

**Input**: PO + RE outputs
**Output**: User flows, wireframes, interaction patterns, design specs

**Responsibilities**:
- Create user flow diagrams
- Design wireframes for all screens
- Define interaction patterns
- Establish design system components
- Ensure accessibility compliance (WCAG 2.1 AA)

**Quality Gate**: All user stories have corresponding UX designs

##### **STATUS UPDATE: Sub-Phase 1.3 End**
```
- Sub-Phase: 1.3 - UX/UI Designer
- Status: ✅ COMPLETE
- Output: {X} user flows, {Y} wireframes
- Quality Gate: PASSED
- Timestamp: {now}
```

---

#### Step 1.4: Architects (Full-Stack, Backend, AI/ML)

##### **STATUS UPDATE: Sub-Phase 1.4 Start**
```
- Sub-Phase: 1.4 - Architecture Design
- Status: STARTING
- Agents: fullstack-architect, backend-architect, ai-ml-architect
- Input: PO + RE + UX outputs
- Timestamp: {now}
```

**Input**: PO + RE + UX outputs
**Output**: Architecture documents, API contracts, data models, tech stack decisions

**Responsibilities**:

**Full-Stack Architect**:
- System architecture design
- Cross-platform strategy
- Frontend component architecture
- State management patterns

**Backend Architect**:
- API design (REST/GraphQL)
- Database schema design
- Service architecture
- Security patterns

**AI/ML Architect** (if applicable):
- AI/ML architecture
- RAG pipeline design
- Model selection and integration
- Embedding strategies

**Quality Gate**: Architecture approved by all architects, dependencies identified

##### **STATUS UPDATE: Sub-Phase 1.4 End**
```
- Sub-Phase: 1.4 - Architecture Design
- Status: ✅ COMPLETE
- Output: System architecture, API contracts, data models
- Quality Gate: PASSED (All architects approved)
- Timestamp: {now}
```

#### **STATUS UPDATE: Phase 1 Complete**
```
Orchestrator MUST update status.md:
- Phase 1 Status: ✅ COMPLETE
- Completion Time: {now}
- Deliverables: Vision doc, User stories, Requirements, UX designs, Architecture
- Next: Phase 2 - Development
```

---

### PHASE 2 - DEVELOPMENT + ALL TESTS (PARALLEL EXECUTION)

#### **STATUS UPDATE: Phase 2 Start**
```
Orchestrator MUST update status.md:
- Current Phase: Phase 2 - Development + All Tests
- Status: STARTING
- Timestamp: {now}
- Parallel Streams: {count}
- Developer Assignments: {list}
- Module: {module-name}
```

#### Phase 2 Sub-Phases (Per Module)

**CRITICAL: Phase 2 includes BOTH code implementation AND all test development**

```
PHASE 2 SUB-PHASES:
===================
2.1 - Code Implementation
2.2 - Unit Test (UT) Development
2.3 - Integration Test (INT) Development
2.4 - API Test Development
2.5 - E2E Test Development
2.6 - Run ALL Tests & Verify
```

---

#### Step 2.1: Code Implementation

##### **STATUS UPDATE: Sub-Phase 2.1 Start**
```
- Sub-Phase: 2.1 - Code Implementation
- Status: STARTING
- Developer: {agent-name}
- Module: {module-name}
- Input: Architecture spec, requirements
- Timestamp: {now}
```

**Input**: Approved architecture, requirements, UX designs
**Output**: Implemented feature code

**Developer Responsibilities**:
- Implement feature code per architecture spec
- Follow coding standards and patterns
- Document code with inline comments
- Prepare code for all test types

##### **STATUS UPDATE: Sub-Phase 2.1 End**
```
- Sub-Phase: 2.1 - Code Implementation
- Status: ✅ COMPLETE
- Files Created: {count}
- Lines of Code: {count}
- Timestamp: {now}
```

---

#### Step 2.2: Unit Test (UT) Development

##### **STATUS UPDATE: Sub-Phase 2.2 Start**
```
- Sub-Phase: 2.2 - Unit Test Development
- Status: STARTING
- Developer: {agent-name}
- Module: {module-name}
- Timestamp: {now}
```

**Output**: Complete unit test suite for all code

**Unit Test Requirements**:
```
MANDATORY FOR ALL CODE:
1. Write unit tests for ALL functions/methods
2. Test all branches and edge cases
3. Achieve minimum 80% code coverage
4. Use mocking for external dependencies
5. Test both success and failure scenarios
6. Test boundary conditions
```

**Unit Test Types**:
- Function/method unit tests
- Component unit tests
- Service unit tests
- Utility function tests

##### **STATUS UPDATE: Sub-Phase 2.2 End**
```
- Sub-Phase: 2.2 - Unit Test Development
- Status: ✅ COMPLETE
- Unit Tests Written: {count}
- Code Coverage: {percentage}%
- Timestamp: {now}
```

---

#### Step 2.3: Integration Test (INT) Development

##### **STATUS UPDATE: Sub-Phase 2.3 Start**
```
- Sub-Phase: 2.3 - Integration Test Development
- Status: STARTING
- Developer: {agent-name}
- Module: {module-name}
- Timestamp: {now}
```

**Output**: Integration tests for module interactions

**Integration Test Requirements**:
```
MANDATORY INTEGRATION TESTS:
1. Test module-to-module communication
2. Test database operations (CRUD)
3. Test service layer interactions
4. Test external service integrations
5. Test data flow across components
6. Test transaction boundaries
```

**Integration Test Types**:
- Database integration tests
- Service-to-service tests
- Component interaction tests
- Message queue tests (if applicable)

##### **STATUS UPDATE: Sub-Phase 2.3 End**
```
- Sub-Phase: 2.3 - Integration Test Development
- Status: ✅ COMPLETE
- Integration Tests Written: {count}
- Services Tested: {list}
- Timestamp: {now}
```

---

#### Step 2.4: API Test Development

##### **STATUS UPDATE: Sub-Phase 2.4 Start**
```
- Sub-Phase: 2.4 - API Test Development
- Status: STARTING
- Developer: {agent-name}
- Module: {module-name}
- API Endpoints: {count}
- Timestamp: {now}
```

**Output**: API contract tests for all endpoints

**API Test Requirements**:
```
MANDATORY API TESTS:
1. Test all API endpoints (GET, POST, PUT, DELETE)
2. Test request validation
3. Test response format and status codes
4. Test authentication/authorization
5. Test error responses
6. Test rate limiting (if applicable)
7. Test API versioning
```

**API Test Types**:
- Endpoint contract tests
- Request/response validation tests
- Authentication tests
- Authorization tests
- Error handling tests

##### **STATUS UPDATE: Sub-Phase 2.4 End**
```
- Sub-Phase: 2.4 - API Test Development
- Status: ✅ COMPLETE
- API Tests Written: {count}
- Endpoints Covered: {count}
- Timestamp: {now}
```

---

#### Step 2.5: E2E Test Development

##### **STATUS UPDATE: Sub-Phase 2.5 Start**
```
- Sub-Phase: 2.5 - E2E Test Development
- Status: STARTING
- Developer: {agent-name}
- Module: {module-name}
- User Flows: {count}
- Timestamp: {now}
```

**Output**: End-to-end test scenarios for user flows

**E2E Test Requirements**:
```
MANDATORY E2E TESTS:
1. Test complete user flows (happy path)
2. Test critical business scenarios
3. Test cross-browser compatibility
4. Test responsive design scenarios
5. Test error handling flows
6. Test authentication flows
7. Test data persistence across sessions

⚠️ STRICT MODE - ALL WARNINGS ARE ERRORS:
==========================================
- Console warnings → FAIL
- Deprecation warnings → FAIL
- Accessibility warnings → FAIL
- Performance warnings → FAIL
- Network errors/warnings → FAIL
- Any browser console output → MUST be reviewed
- NO exceptions - ALL warnings block release
```

**E2E Test Types**:
- User journey tests (Playwright)
- Critical path tests
- Cross-browser tests
- Mobile/responsive tests
- Authentication flow tests

##### **STATUS UPDATE: Sub-Phase 2.5 End**
```
- Sub-Phase: 2.5 - E2E Test Development
- Status: ✅ COMPLETE
- E2E Tests Written: {count}
- User Flows Covered: {count}
- Browsers Targeted: {list}
- Timestamp: {now}
```

---

#### Step 2.6: Run ALL Tests & Verify

##### **STATUS UPDATE: Sub-Phase 2.6 Start**
```
- Sub-Phase: 2.6 - Run All Tests & Verify
- Status: STARTING
- Developer: {agent-name}
- Module: {module-name}
- Tests to Run: UT={count}, INT={count}, API={count}, E2E={count}
- Timestamp: {now}
```

**CRITICAL - All Tests Must Pass**:
```
╔══════════════════════════════════════════════════════════════╗
║  MANDATORY TEST EXECUTION BEFORE PROCEEDING                  ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  1. Run ALL Unit Tests                                       ║
║     - ALL must pass                                          ║
║     - Coverage must be 80%+                                  ║
║                                                              ║
║  2. Run ALL Integration Tests                                ║
║     - ALL must pass                                          ║
║     - No database errors                                     ║
║                                                              ║
║  3. Run ALL API Tests                                        ║
║     - ALL must pass                                          ║
║     - All endpoints validated                                ║
║                                                              ║
║  4. Run E2E Tests (Local)                                    ║
║     - Critical paths must pass                               ║
║     - UI renders correctly                                   ║
║                                                              ║
║  ⛔ DO NOT proceed if ANY test fails                         ║
║  ⛔ Fix ALL failing tests before submission                  ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝
```

**Verification Checklist**:
- [ ] All unit tests passing
- [ ] Code coverage ≥ 80%
- [ ] All integration tests passing
- [ ] All API tests passing
- [ ] E2E critical paths passing
- [ ] No lint errors
- [ ] No type errors

##### **STATUS UPDATE: Sub-Phase 2.6 End**
```
- Sub-Phase: 2.6 - Run All Tests & Verify
- Status: ✅ COMPLETE
- Unit Tests: {passed}/{total} PASSED, {coverage}% coverage
- Integration Tests: {passed}/{total} PASSED
- API Tests: {passed}/{total} PASSED
- E2E Tests: {passed}/{total} PASSED
- All Tests Passing: YES
- Quality Gate: PASSED
- Timestamp: {now}
```

---

#### **STATUS UPDATE: Phase 2 Complete (Per Module)**
```
Orchestrator MUST update status.md:
- Phase 2 Status: ✅ COMPLETE
- Module: {module-name}
- Completion Time: {now}
- Code Implementation: ✅
- Unit Tests: {count} tests, {coverage}% coverage
- Integration Tests: {count} tests
- API Tests: {count} tests
- E2E Tests: {count} tests
- All Tests Passing: YES
- Next: Phase 3 - Architect Review for {module-name}
```

---

### PHASE 3 - ARCHITECT REVIEW

#### **STATUS UPDATE: Phase 3 Start**
```
Orchestrator MUST update status.md:
- Current Phase: Phase 3 - Architect Review
- Status: STARTING
- Timestamp: {now}
- Reviewers: Full-Stack Architect, Backend Architect, AI/ML Architect
- Modules Under Review: {list}
```

#### Step 3.1: Full-Stack Architecture Review

##### **STATUS UPDATE: Sub-Phase 3.1 Start**
```
- Sub-Phase: 3.1 - Full-Stack Architecture Review
- Status: STARTING
- Reviewer: fullstack-architect
- Modules: {list}
- Timestamp: {now}
```

**Reviewer**: Full-Stack Architect

**Review Focus**:
- [ ] System architecture patterns followed
- [ ] Cross-platform consistency verified
- [ ] Component structure adheres to design
- [ ] State management patterns correct

##### **STATUS UPDATE: Sub-Phase 3.1 End**
```
- Sub-Phase: 3.1 - Full-Stack Architecture Review
- Status: ✅ COMPLETE
- Reviewer: fullstack-architect
- Result: {APPROVED | REWORK REQUIRED}
- Issues Found: {count}
- Timestamp: {now}
```

---

#### Step 3.2: Backend Architecture Review

##### **STATUS UPDATE: Sub-Phase 3.2 Start**
```
- Sub-Phase: 3.2 - Backend Architecture Review
- Status: STARTING
- Reviewer: backend-architect
- Modules: {list}
- Timestamp: {now}
```

**Reviewer**: Backend Architect

**Review Focus**:
- [ ] API contracts respected
- [ ] Data models correct
- [ ] Security best practices applied
- [ ] Performance considerations met

##### **STATUS UPDATE: Sub-Phase 3.2 End**
```
- Sub-Phase: 3.2 - Backend Architecture Review
- Status: ✅ COMPLETE
- Reviewer: backend-architect
- Result: {APPROVED | REWORK REQUIRED}
- Issues Found: {count}
- Timestamp: {now}
```

---

#### Step 3.3: AI/ML Architecture Review (if applicable)

##### **STATUS UPDATE: Sub-Phase 3.3 Start**
```
- Sub-Phase: 3.3 - AI/ML Architecture Review
- Status: STARTING
- Reviewer: ai-ml-architect
- Components: {list}
- Timestamp: {now}
```

**Reviewer**: AI/ML Architect

**Review Focus**:
- [ ] ML pipeline architecture correct
- [ ] RAG implementation proper
- [ ] Model integration follows patterns
- [ ] Embedding strategies appropriate

##### **STATUS UPDATE: Sub-Phase 3.3 End**
```
- Sub-Phase: 3.3 - AI/ML Architecture Review
- Status: ✅ COMPLETE
- Reviewer: ai-ml-architect
- Result: {APPROVED | REWORK REQUIRED}
- Issues Found: {count}
- Timestamp: {now}
```

---

#### Step 3.4: Consolidated Review Decision

##### **STATUS UPDATE: Sub-Phase 3.4 Start**
```
- Sub-Phase: 3.4 - Consolidated Review Decision
- Status: STARTING
- Participants: All Architects
- Timestamp: {now}
```

**All Architects Consolidate**:
- Aggregate review findings
- Determine final decision
- Document issues requiring rework (if any)

**Review Outcome**:
- **APPROVED**: Move to testing phase (requires ALL architects approval)
- **REWORK REQUIRED**: Return to developers with detailed feedback

##### **STATUS UPDATE: Sub-Phase 3.4 End**
```
- Sub-Phase: 3.4 - Consolidated Review Decision
- Status: ✅ COMPLETE
- Final Decision: {APPROVED | REWORK REQUIRED}
- Approvals: FS={Y/N}, BE={Y/N}, AI/ML={Y/N}
- Timestamp: {now}
```

#### **STATUS UPDATE: Phase 3 Complete**
```
Orchestrator MUST update status.md:
- Phase 3 Status: {APPROVED | REWORK REQUIRED}
- Completion Time: {now}
- Review Result: {summary}
- Total Issues Found: {count} (if any)
- Approvals: Full-Stack={Y/N}, Backend={Y/N}, AI/ML={Y/N}
- Next: {Phase 4 Rework | Phase 5 Testing}
```

---

### PHASE 4 - REWORK (IF REQUIRED)

#### **STATUS UPDATE: Phase 4 Start**
```
Orchestrator MUST update status.md:
- Current Phase: Phase 4 - Rework (Iteration {N})
- Status: STARTING
- Timestamp: {now}
- Rework Iteration: {iteration number}
- Issues to Fix: {count}
- Assigned Developers: {list}
```

#### Step 4.1: Issue Analysis & Assignment

##### **STATUS UPDATE: Sub-Phase 4.1 Start**
```
- Sub-Phase: 4.1 - Issue Analysis & Assignment
- Status: STARTING
- Issues Count: {count}
- Timestamp: {now}
```

**Process**:
- Review architect feedback in detail
- Categorize issues by module
- Assign issues to appropriate developers
- Estimate rework effort

##### **STATUS UPDATE: Sub-Phase 4.1 End**
```
- Sub-Phase: 4.1 - Issue Analysis & Assignment
- Status: ✅ COMPLETE
- Issues Assigned: {count}
- Developers Assigned: {list}
- Timestamp: {now}
```

---

#### Step 4.2: Parallel Rework Streams

##### **STATUS UPDATE: Sub-Phase 4.2 Start**
```
- Sub-Phase: 4.2 - Parallel Rework
- Status: STARTING
- Rework Streams: {count}
- Timestamp: {now}
```

For EACH rework stream:

###### **STATUS UPDATE: Rework Stream Start**
```
- Rework Stream: {module/component name}
- Status: STARTING
- Developer: {agent-name}
- Issues Assigned: {count}
- Timestamp: {now}
```

**Input**: Architect feedback
**Output**: Fixed implementation with updated tests

**Developer Process**:
1. Review architect feedback for assigned issues
2. Fix identified issues
3. Update/add unit tests
4. Verify all tests pass locally
5. Submit for re-review

###### **STATUS UPDATE: Rework Stream End**
```
- Rework Stream: {module/component name}
- Status: ✅ COMPLETE
- Developer: {agent-name}
- Issues Fixed: {count}
- Tests Updated: {count}
- All Tests Passing: {YES/NO}
- Timestamp: {now}
```

##### **STATUS UPDATE: Sub-Phase 4.2 End**
```
- Sub-Phase: 4.2 - Parallel Rework
- Status: ✅ COMPLETE
- Total Issues Fixed: {count}
- Total Tests Updated: {count}
- Timestamp: {now}
```

---

#### Step 4.3: Rework Verification

##### **STATUS UPDATE: Sub-Phase 4.3 Start**
```
- Sub-Phase: 4.3 - Rework Verification
- Status: STARTING
- Verifying: Unit tests, Integration points
- Timestamp: {now}
```

**Verification Checklist**:
- [ ] All identified issues addressed
- [ ] Unit tests updated and passing
- [ ] No regressions introduced
- [ ] Code follows architecture patterns

##### **STATUS UPDATE: Sub-Phase 4.3 End**
```
- Sub-Phase: 4.3 - Rework Verification
- Status: ✅ COMPLETE
- Verification Result: {PASSED | NEEDS MORE WORK}
- Timestamp: {now}
```

#### **STATUS UPDATE: Phase 4 Complete**
```
Orchestrator MUST update status.md:
- Phase 4 Status: ✅ COMPLETE
- Completion Time: {now}
- Rework Iteration: {N}
- Issues Fixed: {count}
- Tests Updated: {count}
- Next: Re-submit for Architect Review (Phase 3)
```

---

### ITERATION LOOP

```
┌─────────────────────────────────────────────────┐
│                                                 │
│   ARCHITECT REVIEW                              │
│   [STATUS: Review In Progress]                  │
│        │                                        │
│        ├── APPROVED ──→ [STATUS: Approved]     │
│        │                    ↓                   │
│        │               NEXT PHASE               │
│        │                                        │
│        └── REWORK REQUIRED                      │
│             [STATUS: Rework Needed]             │
│                │                                │
│                ↓                                │
│        DEVELOPER REWORK                         │
│        [STATUS: Rework In Progress]             │
│                │                                │
│                ↓                                │
│        [STATUS: Rework Complete]                │
│                │                                │
│                └──────→ ARCHITECT REVIEW ──────┘
│                                                 │
│   (Loop continues until ALL architects approve) │
│   [STATUS UPDATE on EVERY iteration]            │
│                                                 │
└─────────────────────────────────────────────────┘
```

---

### PHASE 5 - TESTING (After Architect Approval)

#### **STATUS UPDATE: Phase 5 Start**
```
Orchestrator MUST update status.md:
- Current Phase: Phase 5 - Testing
- Status: STARTING
- Timestamp: {now}
- Test Types: Integration, E2E, Visual
- Test Agents: {list}
```

#### Step 5.1: QA Automation Testing (PARALLEL)

##### **STATUS UPDATE: Sub-Phase 5.1 Start**
```
- Sub-Phase: 5.1 - QA Automation Testing
- Status: STARTING
- Testers: qa-automation-engineer-1, qa-automation-engineer-2
- Test Scope: Integration, API, Functional, Regression
- Timestamp: {now}
```

**Testers**: qa-automation-engineer-1, qa-automation-engineer-2 (parallel)

###### **STATUS UPDATE: QA Stream 1 Start**
```
- Stream: QA-Stream-1
- Status: STARTING
- Tester: qa-automation-engineer-1
- Modules: {assigned modules}
- Timestamp: {now}
```

###### **STATUS UPDATE: QA Stream 1 End**
```
- Stream: QA-Stream-1
- Status: ✅ COMPLETE
- Tests Run: {count}
- Tests Passed: {count}
- Tests Failed: {count}
- Defects Found: {count}
- Timestamp: {now}
```

###### **STATUS UPDATE: QA Stream 2 Start**
```
- Stream: QA-Stream-2
- Status: STARTING
- Tester: qa-automation-engineer-2
- Modules: {assigned modules}
- Timestamp: {now}
```

###### **STATUS UPDATE: QA Stream 2 End**
```
- Stream: QA-Stream-2
- Status: ✅ COMPLETE
- Tests Run: {count}
- Tests Passed: {count}
- Tests Failed: {count}
- Defects Found: {count}
- Timestamp: {now}
```

**Test Types**:
- Integration tests
- API tests
- Functional tests
- Regression tests

##### **STATUS UPDATE: Sub-Phase 5.1 End**
```
- Sub-Phase: 5.1 - QA Automation Testing
- Status: ✅ COMPLETE
- Total Tests: {count}
- Passed: {count}
- Failed: {count}
- Defects: {count}
- Timestamp: {now}
```

---

#### Step 5.2: E2E Testing (PARALLEL)

##### **STATUS UPDATE: Sub-Phase 5.2 Start**
```
- Sub-Phase: 5.2 - E2E Testing
- Status: STARTING
- Testers: playwright-e2e-tester, playwright-e2e-tester-1, playwright-e2e-tester-2
- Test Scope: User flows, Cross-browser, Critical paths
- Timestamp: {now}
```

**Testers**: playwright-e2e-tester, playwright-e2e-tester-1, playwright-e2e-tester-2 (parallel)

###### **STATUS UPDATE: E2E Stream 1 Start**
```
- Stream: E2E-Stream-1
- Status: STARTING
- Tester: playwright-e2e-tester-1
- User Flows: {assigned flows}
- Browsers: Chromium, Firefox
- Timestamp: {now}
```

###### **STATUS UPDATE: E2E Stream 1 End**
```
- Stream: E2E-Stream-1
- Status: ✅ COMPLETE
- Tests Run: {count}
- Tests Passed: {count}
- Tests Failed: {count}
- Screenshots Captured: {count}
- Timestamp: {now}
```

###### **STATUS UPDATE: E2E Stream 2 Start**
```
- Stream: E2E-Stream-2
- Status: STARTING
- Tester: playwright-e2e-tester-2
- User Flows: {assigned flows}
- Browsers: WebKit, Mobile
- Timestamp: {now}
```

###### **STATUS UPDATE: E2E Stream 2 End**
```
- Stream: E2E-Stream-2
- Status: ✅ COMPLETE
- Tests Run: {count}
- Tests Passed: {count}
- Tests Failed: {count}
- Screenshots Captured: {count}
- Timestamp: {now}
```

**Test Types**:
- End-to-end user flows
- Cross-browser testing
- Critical path validation

**STRICT E2E EXECUTION RULES**:
```
╔══════════════════════════════════════════════════════════════════╗
║  ⚠️ E2E STRICT MODE - ALL WARNINGS ARE ERRORS                   ║
╠══════════════════════════════════════════════════════════════════╣
║                                                                  ║
║  THE FOLLOWING WILL CAUSE E2E TEST FAILURE:                      ║
║  ─────────────────────────────────────────────────────────────   ║
║                                                                  ║
║  ❌ Console.warn() outputs                                       ║
║  ❌ Console.error() outputs                                      ║
║  ❌ Deprecation warnings                                         ║
║  ❌ React/Vue/Framework warnings                                 ║
║  ❌ Accessibility (a11y) warnings                                ║
║  ❌ Performance warnings (LCP, CLS, FID)                         ║
║  ❌ Network request failures (4xx, 5xx)                          ║
║  ❌ CORS warnings                                                ║
║  ❌ Mixed content warnings                                       ║
║  ❌ Security warnings                                            ║
║  ❌ Unhandled promise rejections                                 ║
║  ❌ TypeScript/JavaScript runtime errors                         ║
║                                                                  ║
║  ZERO TOLERANCE POLICY:                                          ║
║  - NO warnings allowed in production-ready code                  ║
║  - ALL console output must be intentional logging only           ║
║  - ANY warning = TEST FAILURE = RETURN TO DEV                    ║
║                                                                  ║
╚══════════════════════════════════════════════════════════════════╝
```

##### **STATUS UPDATE: Sub-Phase 5.2 End**
```
- Sub-Phase: 5.2 - E2E Testing
- Status: ✅ COMPLETE
- Total Tests: {count}
- Passed: {count}
- Failed: {count}
- Browsers Tested: Chromium, Firefox, WebKit, Mobile
- Timestamp: {now}
```

---

#### Step 5.3: Visual Testing (PARALLEL)

##### **STATUS UPDATE: Sub-Phase 5.3 Start**
```
- Sub-Phase: 5.3 - Visual Testing
- Status: STARTING
- Testers: visual-automation-tester-1, visual-automation-tester-2
- Test Scope: Screenshot comparison, Visual regression
- Timestamp: {now}
```

**Testers**: visual-automation-tester-1, visual-automation-tester-2 (parallel)

###### **STATUS UPDATE: Visual Stream 1 Start**
```
- Stream: Visual-Stream-1
- Status: STARTING
- Tester: visual-automation-tester-1
- Pages: {assigned pages}
- Viewports: Desktop, Tablet
- Timestamp: {now}
```

###### **STATUS UPDATE: Visual Stream 1 End**
```
- Stream: Visual-Stream-1
- Status: ✅ COMPLETE
- Screenshots Compared: {count}
- Passed: {count}
- Diffs Detected: {count}
- Timestamp: {now}
```

###### **STATUS UPDATE: Visual Stream 2 Start**
```
- Stream: Visual-Stream-2
- Status: STARTING
- Tester: visual-automation-tester-2
- Pages: {assigned pages}
- Viewports: Mobile, Cross-platform
- Timestamp: {now}
```

###### **STATUS UPDATE: Visual Stream 2 End**
```
- Stream: Visual-Stream-2
- Status: ✅ COMPLETE
- Screenshots Compared: {count}
- Passed: {count}
- Diffs Detected: {count}
- Timestamp: {now}
```

**Test Types**:
- Screenshot comparison
- Visual regression
- Cross-platform visual consistency

##### **STATUS UPDATE: Sub-Phase 5.3 End**
```
- Sub-Phase: 5.3 - Visual Testing
- Status: ✅ COMPLETE
- Total Comparisons: {count}
- Passed: {count}
- Visual Regressions: {count}
- Timestamp: {now}
```

---

#### Step 5.4: Test Results Consolidation

##### **STATUS UPDATE: Sub-Phase 5.4 Start**
```
- Sub-Phase: 5.4 - Test Results Consolidation
- Status: STARTING
- Consolidating: QA, E2E, Visual results
- Timestamp: {now}
```

**Consolidation Process**:
- Aggregate all test results
- Categorize defects by severity
- Determine pass/fail decision
- Generate test report

##### **STATUS UPDATE: Sub-Phase 5.4 End**
```
- Sub-Phase: 5.4 - Test Results Consolidation
- Status: ✅ COMPLETE
- Test Report Generated: YES
- Overall Result: {PASSED | FAILED}
- Timestamp: {now}
```

**Quality Gate**: All tests pass (integration + E2E + visual)

---

#### Step 5.5: E2E Failure Handling (If Tests Fail)

##### **STATUS UPDATE: E2E Failure Detected**
```
- Event: E2E/Testing FAILURE
- Status: ⚠️ DEFECTS FOUND
- Failed Tests: {count}
- Critical Defects: {count}
- High Defects: {count}
- Medium Defects: {count}
- Timestamp: {now}
```

**When E2E or any Phase 5 tests FAIL:**

```
╔══════════════════════════════════════════════════════════════════════════════╗
║                    E2E FAILURE HANDLING PROTOCOL                             ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  IF E2E TESTS FAIL:                                                          ║
║  ─────────────────────────────────────────────────────────────────────────   ║
║                                                                              ║
║  1. DEFECT LOGGING                                                           ║
║     - Log ALL failed tests with full details                                 ║
║     - Capture screenshots/logs for each failure                              ║
║     - Categorize defects: Critical / High / Medium / Low                     ║
║                                                                              ║
║  2. DEFECT ASSIGNMENT                                                        ║
║     - Assign each defect to responsible developer                            ║
║     - Link defect to original module/component                               ║
║     - Set priority based on severity                                         ║
║                                                                              ║
║  3. UPDATE STATUS                                                            ║
║     [STATUS: Phase 5 FAILED - Returning to Phase 2/3/4]                      ║
║                                                                              ║
║  4. RETURN TO ITERATIVE LOOP                                                 ║
║     ┌──────────────────────────────────────────────────────────────────┐    ║
║     │                                                                  │    ║
║     │  Phase 5 FAILED                                                  │    ║
║     │      ↓                                                           │    ║
║     │  Phase 2 - Fix defects + Update affected tests                   │    ║
║     │      ↓                                                           │    ║
║     │  Phase 3 - Architect re-review of fixes                          │    ║
║     │      ↓                                                           │    ║
║     │  Phase 4 - Rework if architects request changes                  │    ║
║     │      ↓ (iterate until all architects approve)                    │    ║
║     │  Phase 5 - Re-run ALL tests                                      │    ║
║     │      ↓                                                           │    ║
║     │  IF PASS → Phase 6                                               │    ║
║     │  IF FAIL → Back to Phase 2 (repeat until all pass)               │    ║
║     │                                                                  │    ║
║     └──────────────────────────────────────────────────────────────────┘    ║
║                                                                              ║
║  5. DEFECT FIX CYCLE                                                         ║
║     - Developer fixes defect                                                 ║
║     - Updates ALL affected tests (UT, INT, API, E2E)                         ║
║     - Runs ALL local tests - ALL must pass                                   ║
║     - Submits for architect review                                           ║
║                                                                              ║
║  ⚠️  CRITICAL: This cycle repeats until ALL E2E tests pass                   ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝
```

##### **STATUS UPDATE: Defect Fix Cycle Start**
```
- Event: Starting Defect Fix Cycle
- Iteration: {N}
- Defects to Fix: {count}
- Assigned Developers: {list}
- Timestamp: {now}
```

##### **STATUS UPDATE: Defect Fix Cycle End**
```
- Event: Defect Fix Cycle Complete
- Iteration: {N}
- Defects Fixed: {count}
- Tests Updated: {count}
- Ready for Re-review: YES
- Next: Return to Phase 3 Architect Review
- Timestamp: {now}
```

---

#### **STATUS UPDATE: Phase 5 Complete**
```
Orchestrator MUST update status.md:
- Phase 5 Status: {✅ PASSED | ⚠️ FAILED}
- Completion Time: {now}
- Integration Tests: {passed}/{total}
- E2E Tests: {passed}/{total}
- Visual Tests: {passed}/{total}
- Total Defects Found: {count}
- Critical Defects: {count}
- Defect Fix Iterations: {count} (if any)
- Next: {Phase 6 Final Approval | Return to Phase 2/3/4 for Defect Fixes}
```

**If Phase 5 FAILED:**
```
⚠️ MANDATORY: Return to Phase 2/3/4 Iterative Loop
   - Developers fix defects
   - Update ALL affected tests
   - Architects re-review
   - Iterate until approved
   - Re-run ALL Phase 5 tests
   - Repeat until ALL tests pass
```

---

### PHASE 6 - FINAL APPROVAL

#### **STATUS UPDATE: Phase 6 Start**
```
Orchestrator MUST update status.md:
- Current Phase: Phase 6 - Final Approval
- Status: STARTING
- Timestamp: {now}
- Approvers: Lead Architect, QA Lead
```

#### Step 6.1: Lead Architect Final Review

##### **STATUS UPDATE: Sub-Phase 6.1 Start**
```
- Sub-Phase: 6.1 - Lead Architect Final Review
- Status: STARTING
- Reviewer: fullstack-architect (Lead)
- Scope: Complete module/wave deliverables
- Timestamp: {now}
```

**Reviewer**: Lead Architect (fullstack-architect)

**Review Checklist**:
- [ ] All requirements met
- [ ] Architecture approved
- [ ] Code quality acceptable
- [ ] No critical defects
- [ ] Documentation complete

##### **STATUS UPDATE: Sub-Phase 6.1 End**
```
- Sub-Phase: 6.1 - Lead Architect Final Review
- Status: ✅ COMPLETE
- Result: {APPROVED | NOT APPROVED}
- Sign-off: Lead Architect {✓ | ✗}
- Comments: {any notes}
- Timestamp: {now}
```

---

#### Step 6.2: QA Lead Final Review

##### **STATUS UPDATE: Sub-Phase 6.2 Start**
```
- Sub-Phase: 6.2 - QA Lead Final Review
- Status: STARTING
- Reviewer: qa-automation-engineer (Lead)
- Scope: Test coverage, quality metrics
- Timestamp: {now}
```

**Reviewer**: QA Lead (qa-automation-engineer)

**Review Checklist**:
- [ ] All unit tests passing
- [ ] All integration tests passing
- [ ] All E2E tests passing
- [ ] All visual tests passing
- [ ] No critical defects open
- [ ] Test coverage adequate

##### **STATUS UPDATE: Sub-Phase 6.2 End**
```
- Sub-Phase: 6.2 - QA Lead Final Review
- Status: ✅ COMPLETE
- Result: {APPROVED | NOT APPROVED}
- Sign-off: QA Lead {✓ | ✗}
- Test Summary: {passed}/{total} tests passing
- Timestamp: {now}
```

---

#### Step 6.3: Final Sign-Off

##### **STATUS UPDATE: Sub-Phase 6.3 Start**
```
- Sub-Phase: 6.3 - Final Sign-Off
- Status: STARTING
- Awaiting: All approver signatures
- Timestamp: {now}
```

**Final Decision**:
- Both Lead Architect AND QA Lead must approve
- If either rejects, return to appropriate phase for fixes

##### **STATUS UPDATE: Sub-Phase 6.3 End**
```
- Sub-Phase: 6.3 - Final Sign-Off
- Status: ✅ COMPLETE
- Lead Architect: {APPROVED | NOT APPROVED}
- QA Lead: {APPROVED | NOT APPROVED}
- Final Decision: {APPROVED | RETURN FOR FIXES}
- Timestamp: {now}
```

#### **STATUS UPDATE: Phase 6 Complete**
```
Orchestrator MUST update status.md:
- Phase 6 Status: ✅ APPROVED
- Completion Time: {now}
- Sign-off: Lead Architect ✓, QA Lead ✓
- Module/Wave: COMPLETE
- Deliverables: {summary}
- Next: Phase 7 - Next Phase/Wave
```

---

### PHASE 7 - NEXT PHASE/WAVE

#### **STATUS UPDATE: Phase 7 Start**
```
Orchestrator MUST update status.md:
- Current Phase: Phase 7 - Wave/Phase Transition
- Status: STARTING
- Previous Wave/Phase: {completed name}
- Timestamp: {now}
```

#### Step 7.1: Wave/Phase Completion Summary

##### **STATUS UPDATE: Sub-Phase 7.1 Start**
```
- Sub-Phase: 7.1 - Completion Summary
- Status: STARTING
- Summarizing: {wave/phase name}
- Timestamp: {now}
```

**Completion Documentation**:
- Record all deliverables
- Calculate metrics (tests, coverage, duration)
- Document lessons learned
- Archive artifacts

##### **STATUS UPDATE: Sub-Phase 7.1 End**
```
- Sub-Phase: 7.1 - Completion Summary
- Status: ✅ COMPLETE
- Wave/Phase: {name} ✅ COMPLETE
- Duration: {start} to {end}
- Modules Delivered: {count}
- Test Coverage: {percentage}%
- Timestamp: {now}
```

---

#### Step 7.2: Next Wave/Phase Planning

##### **STATUS UPDATE: Sub-Phase 7.2 Start**
```
- Sub-Phase: 7.2 - Next Wave/Phase Planning
- Status: STARTING
- Planning: {next wave/phase name}
- Timestamp: {now}
```

**Planning Activities**:
- Identify next modules/features
- Assign developers to modules
- Review dependencies
- Set objectives and milestones

##### **STATUS UPDATE: Sub-Phase 7.2 End**
```
- Sub-Phase: 7.2 - Next Wave/Phase Planning
- Status: ✅ COMPLETE
- Next Wave/Phase: {name}
- Modules Planned: {count}
- Developers Assigned: {list}
- Timestamp: {now}
```

---

#### Step 7.3: Next Wave/Phase Kickoff

##### **STATUS UPDATE: Sub-Phase 7.3 Start**
```
- Sub-Phase: 7.3 - Next Wave/Phase Kickoff
- Status: STARTING
- Initiating: {next wave/phase name}
- Timestamp: {now}
```

**Orchestrator Actions**:
1. Mark completed modules in status.md
2. Initialize new wave/phase entry
3. Assign new modules to available developers
4. Set up parallel execution streams
5. Notify all agents of assignments

##### **STATUS UPDATE: Sub-Phase 7.3 End**
```
- Sub-Phase: 7.3 - Next Wave/Phase Kickoff
- Status: ✅ COMPLETE
- Next Wave/Phase: {name} INITIATED
- Streams Active: {count}
- Timestamp: {now}
```

#### **STATUS UPDATE: Phase 7 Complete / Next Wave/Phase Start**
```
Orchestrator MUST update status.md:
- Phase 7 Status: ✅ COMPLETE (Transition)
- Previous Wave/Phase: {name} - ARCHIVED
- Current Phase: {Next Phase Name}
- Current Wave: {Next Wave Number}
- Status: STARTING
- Timestamp: {now}
- Objectives: {list}
- Assigned Agents: {list}
- Parallel Streams: {count}
```

---

## PARALLEL EXECUTION CAPACITY

| Phase | Max Parallel Tracks | Agents |
|-------|---------------------|--------|
| Development | 4 modules | fullstack-developer-1 to -4 |
| AI Development | 4 components | ml-ai-developer-1 to -4 |
| QA Testing | 2 modules | qa-automation-engineer-1, -2 |
| E2E Testing | 3 modules | playwright-e2e-tester, -1, -2 |
| Visual Testing | 2 modules | visual-automation-tester-1, -2 |

**Total Capacity**: Up to 8 development + 7 testing = 15 parallel workstreams

---

## ORCHESTRATOR RESPONSIBILITIES

### **CRITICAL: Status File Management**

The Orchestrator is **SOLELY RESPONSIBLE** for maintaining `docs/project-status/status.md`.

**Status Update Checklist**:
- [ ] Update at START of every phase
- [ ] Update at END of every phase
- [ ] Update at START of every wave
- [ ] Update at END of every wave
- [ ] Update on every rework iteration
- [ ] Update when blockers occur
- [ ] Update when blockers are resolved

### Before Each Phase
- **UPDATE STATUS**: Phase starting, agents assigned
- Verify prerequisites complete
- Assign agents to modules
- Check dependencies

### During Each Phase
- **UPDATE STATUS**: Progress, blockers, completions
- Track progress across parallel tracks
- Manage blockers
- Coordinate shared resources

### After Each Phase
- **UPDATE STATUS**: Phase complete, deliverables, metrics
- Validate quality gates
- Trigger next phase

---

## WORKFLOW RULES

### Critical Rules

1. **NEVER skip phases** - Each phase must complete before the next begins
2. **UNIT TESTS ARE MANDATORY** - No code without tests
3. **ARCHITECT APPROVAL REQUIRED** - All architects must approve before next phase
4. **PARALLEL RESPECTS DEPENDENCIES** - Dependent modules wait
5. **STATUS UPDATES ARE MANDATORY** - Update status.md at START and END of EVERY phase/wave

### Quality Gates

| Gate | Requirement | Status Update |
|------|-------------|---------------|
| Phase 1 → Phase 2 | All planning artifacts complete | ✅ Phase 1 Complete |
| Phase 2 → Phase 3 | ALL tests passing (UT 80%+, INT, API, E2E local) | ✅ Phase 2 Complete |
| Phase 3 → Phase 5 | **ALL architects approve** (iterate until approval) | ✅ Review Approved |
| Phase 5 → Phase 6 | ALL E2E/tests pass, ZERO warnings (strict mode) | ✅ Testing Complete |
| Phase 6 → Phase 7 | Final approval received | ✅ Wave/Phase Complete |

### Iteration Triggers

| Condition | Action |
|-----------|--------|
| ANY architect requests rework | Return to Phase 4 → Phase 3 loop |
| Phase 4 rework complete | Return to Phase 3 for re-review |
| ALL architects approve | Exit loop, proceed to Phase 5 |
| ANY E2E test fails | Return to Phase 2/3/4 loop |
| ALL E2E tests pass | Proceed to Phase 6 |

---

## SUMMARY

### One-Line Flow
```
[STATUS: Start] → PO → RE → UI/UX → ARCHITECTS → [STATUS: Phase 1 Done]
    → DEV (Code + UT + INT + API + E2E Tests) → [STATUS: Phase 2 Done]
    → ARCHITECT REVIEW ←──────────────────────────────────────────────┐
    → [REWORK + STATUS] ───────────────────────────────────────────────┘
    → [STATUS: ALL ARCHITECTS APPROVED]
    → TESTING (Execute E2E, INT, API, Visual)
    → [IF FAIL → Back to DEV/REVIEW Loop] ←────────────────────────────┐
    → [IF PASS] → [STATUS: Tests Done]                                 │
    → FINAL APPROVAL                                                   │
    → [STATUS: Complete] → NEXT PHASE/WAVE                            │
                                                                       │
    ⚠️ E2E FAILURE LOOP: Phase 5 Fail → Phase 2 → Phase 3 → Phase 4 ──┘
```

### Key Principles
- **Phase-Gated**: No skipping phases
- **Parallel Development**: Multiple modules simultaneously
- **All Tests in Phase 2**: UT, INT, API, E2E tests developed with code
- **Architect-Approved**: ALL architects must approve before testing
- **Iterative Per Module**: Phase 2/3/4 loops until all architects approve
- **E2E Failure Loop**: Failed E2E tests return to Phase 2/3/4 loop
- **Status-Tracked**: **MANDATORY updates at START and END of EVERY phase, sub-phase, wave, and sub-wave/stream**

### Critical Iterative Loops

```
LOOP 1: DEVELOPMENT → REVIEW → REWORK (Per Module)
=========================================================
┌─────────────────────────────────────────────────────────┐
│  Phase 2 (Dev + All Tests)                              │
│      ↓                                                  │
│  Phase 3 (Architect Review)                             │
│      ├── ALL APPROVE ──→ EXIT LOOP ──→ Phase 5         │
│      └── ANY REWORK ───→ Phase 4 ──→ Back to Phase 3   │
│                                                         │
│  ITERATE UNTIL ALL ARCHITECTS APPROVE                   │
└─────────────────────────────────────────────────────────┘

LOOP 2: E2E FAILURE → DEV FIX → RE-TEST
=========================================================
┌─────────────────────────────────────────────────────────┐
│  Phase 5 (E2E/Testing)                                  │
│      ├── ALL PASS ──→ Phase 6 (Final Approval)         │
│      └── ANY FAIL ───→ Defect Report                    │
│              ↓                                          │
│          Phase 2 (Fix + Update Tests)                   │
│              ↓                                          │
│          Phase 3 (Architect Review)                     │
│              ↓                                          │
│          Phase 4 (Rework if needed)                     │
│              ↓                                          │
│          Back to Phase 5 (Re-run ALL tests)             │
│                                                         │
│  ITERATE UNTIL ALL E2E TESTS PASS                       │
└─────────────────────────────────────────────────────────┘
```

### Complete Status Update Matrix

| Level | Event | When | What to Record |
|-------|-------|------|----------------|
| **PHASE** | Phase Start | Before first sub-phase | Phase name, objectives, assigned agents |
| **PHASE** | Phase End | After last sub-phase | Duration, deliverables, metrics, next phase |
| **SUB-PHASE** | Sub-Phase Start | Before step begins | Step number, agent, inputs |
| **SUB-PHASE** | Sub-Phase End | After step completes | Outputs, quality gate result |
| **WAVE** | Wave Start | Before parallel streams begin | Wave number, streams planned, assignments |
| **WAVE** | Wave End | After all streams complete | Streams completed, aggregate metrics |
| **SUB-WAVE/STREAM** | Stream Start | Before stream work begins | Stream ID, module, developer |
| **SUB-WAVE/STREAM** | Stream End | After stream completes | Module done, tests, coverage, files |
| **REWORK** | Rework Iteration Start | When rework cycle begins | Iteration number, issues to fix |
| **REWORK** | Rework Iteration End | When rework submitted | Issues fixed, tests updated |
| **E2E FAILURE** | Defect Found | When E2E test fails | Defect ID, severity, assigned developer |
| **E2E FAILURE** | Defect Fixed | When defect fixed | Fix details, tests updated, ready for re-test |
| **BLOCKER** | Blocker Found | When blocker identified | Blocker ID, description, impact, owner |
| **BLOCKER** | Blocker Resolved | When blocker cleared | Resolution, blocked duration |

### Phase → Sub-Phase Breakdown

| Phase | Sub-Phases |
|-------|------------|
| Phase 1 | 1.1 PO, 1.2 RE, 1.3 UX, 1.4 Architects |
| Phase 2 | 2.1 Code, 2.2 UT Dev, 2.3 INT Dev, 2.4 API Dev, 2.5 E2E Dev, 2.6 Run All Tests |
| Phase 3 | 3.1 FS Review, 3.2 BE Review, 3.3 AI/ML Review, 3.4 Consolidated |
| Phase 4 | 4.1 Issue Analysis, 4.2 Parallel Rework, 4.3 Verification |
| Phase 5 | 5.1 QA (INT+API), 5.2 E2E Execution, 5.3 Visual, 5.4 Consolidation, 5.5 Failure Handling |
| Phase 6 | 6.1 Lead Architect, 6.2 QA Lead, 6.3 Final Sign-Off |
| Phase 7 | 7.1 Completion Summary, 7.2 Next Planning, 7.3 Kickoff |

### Test Types by Phase

| Test Type | Developed In | Executed In |
|-----------|--------------|-------------|
| Unit Tests (UT) | Phase 2.2 | Phase 2.6 (local), Phase 5.1 |
| Integration Tests (INT) | Phase 2.3 | Phase 2.6 (local), Phase 5.1 |
| API Tests | Phase 2.4 | Phase 2.6 (local), Phase 5.1 |
| E2E Tests | Phase 2.5 | Phase 2.6 (local), Phase 5.2 |
| Visual Tests | Phase 5.3 | Phase 5.3 |

### Status File Location
```
docs/project-status/status.md
```

### Critical Rules
1. **EVERY phase** must have START and END status updates
2. **EVERY sub-phase** must have START and END status updates
3. **EVERY wave** must have START and END status updates
4. **EVERY stream** must have START and END status updates
5. **ALL blockers** must be recorded when found AND when resolved
6. **Timestamps** are required for all status updates
7. **Orchestrator** is solely responsible for maintaining status.md
